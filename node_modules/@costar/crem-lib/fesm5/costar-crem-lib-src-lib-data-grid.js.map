{"version":3,"file":"costar-crem-lib-src-lib-data-grid.js","sources":["ng://@costar/crem-lib/src/lib/data-grid/data-grid.service.ts","ng://@costar/crem-lib/src/lib/data-grid/data-grid.component.ts","ng://@costar/crem-lib/src/lib/data-grid/data-grid.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nimport 'devextreme/data/odata/store';\nimport DataSource from 'devextreme/data/data_source';\n\n@Injectable()\nexport class DataGridService {\n\n  getDataSource() {\n    return new DataSource({\n      store: {\n        type: 'odata',\n\n        url: 'https://js.devexpress.com/Demos/SalesViewer/odata/DaySaleDtoes',\n\n        beforeSend: (request: any) => {\n          request.params.startDate = '2018-05-10';\n          request.params.endDate = '2018-05-15';\n        }\n      }\n    });\n  }\n\n}\n\n","import { Component, enableProdMode, Input, ViewEncapsulation  } from '@angular/core';\n\nimport DataSource from 'devextreme/data/data_source';\n\nimport { DataGridService } from './data-grid.service';\n\n\n@Component({\n  selector: 'crem-data-grid',\n  template: `\n    <dx-data-grid\n      id=\"gridContainer\"\n      [dataSource]=\"dataSource\"\n      [remoteOperations]=\"true\"\n      [allowColumnReordering]=\"true\"\n      [rowAlternationEnabled]=\"true\"\n      [showBorders]=\"false\"\n      (onContentReady)=\"contentReady($event)\"\n    >\n      <dxo-paging [pageSize]=\"pagesize\"></dxo-paging>\n\n      <dxo-search-panel\n        [visible]=\"true\"\n        [highlightCaseSensitive]=\"true\"\n      ></dxo-search-panel>\n\n      <dxo-group-panel [visible]=\"true\"></dxo-group-panel>\n\n      <dxo-grouping [autoExpandAll]=\"false\"></dxo-grouping>\n\n      <dxi-column dataField=\"Product\" [groupIndex]=\"0\"></dxi-column>\n\n      <dxi-column\n        dataField=\"Amount\"\n        caption=\"Sale Amount\"\n        dataType=\"number\"\n        format=\"currency\"\n        alignment=\"left\"\n      ></dxi-column>\n\n      <dxi-column\n        caption=\"Discount %\"\n        dataField=\"Discount\"\n        cellTemplate=\"discountCellTemplate\"\n        dataType=\"number\"\n        format=\"percent\"\n        alignment=\"left\"\n        [allowGrouping]=\"false\"\n        cssClass=\"bullet\"\n      ></dxi-column>\n\n      <dxi-column dataField=\"SaleDate\" dataType=\"date\"></dxi-column>\n\n      <dxi-column dataField=\"Region\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Sector\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Channel\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Customer\" dataType=\"string\"></dxi-column>\n\n      <div *dxTemplate=\"let d of 'discountCellTemplate'\">\n        <div class=\"chart-cell\">\n          <dx-bullet\n            [showTarget]=\"false\"\n            [showZeroLevel]=\"true\"\n            [startScaleValue]=\"0\"\n            [endScaleValue]=\"100\"\n            [value]=\"d.value * 100\"\n          >\n            <dxo-size [width]=\"150\" [height]=\"35\"></dxo-size>\n\n            <dxo-tooltip\n              [enabled]=\"true\"\n              [paddingTopBottom]=\"2\"\n              [customizeTooltip]=\"customizeTooltip\"\n            >\n              <dxo-font [size]=\"18\"></dxo-font>\n            </dxo-tooltip>\n\n            <dxo-margin [top]=\"5\" [bottom]=\"0\" [left]=\"5\"></dxo-margin>\n          </dx-bullet>\n        </div>\n      </div>\n    </dx-data-grid>\n  `,\nstyleUrls: ['data-grid.component.scss'],\nproviders: [DataGridService]\n})\nexport class DataGridComponent {\n  @Input() pagesize: number;\n\n  dataSource: DataSource;\n  collapsed = false;\n\n  contentReady = (e: any) => {\n    if (!this.collapsed) {\n      this.collapsed = true;\n      e.component.expandRow(['EnviroCare']);\n    }\n  }\n\n  customizeTooltip = (pointsInfo: any) => {\n    return { text: parseInt('', pointsInfo.originalValue) + '%' };\n  }\n\n  constructor(service: DataGridService) {\n    this.dataSource = service.getDataSource();\n  }\n}\n\n","import { NgModule } from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\nimport { DxDataGridModule } from 'devextreme-angular/ui/data-grid';\nimport {DxBulletModule} from 'devextreme-angular/ui/bullet';\nimport { DxTemplateModule } from 'devextreme-angular/core';\nimport { DataGridComponent } from './data-grid.component';\nimport { DataGridService } from './data-grid.service';\n\n\n@NgModule({\n  imports: [CommonModule, DxDataGridModule, DxTemplateModule, DxBulletModule],\n  declarations: [DataGridComponent],\n  exports: [DataGridComponent],\n  providers: [DataGridService]\n})\nexport class DataGridModule { }\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;IAKA;KAkBC;;;;IAfC,uCAAa;;;IAAb;QACE,OAAO,IAAI,UAAU,CAAC;YACpB,KAAK,EAAE;gBACL,IAAI,EAAE,OAAO;gBAEb,GAAG,EAAE,gEAAgE;gBAErE,UAAU;;;;gBAAE,UAAC,OAAY;oBACvB,OAAO,CAAC,MAAM,CAAC,SAAS,GAAG,YAAY,CAAC;oBACxC,OAAO,CAAC,MAAM,CAAC,OAAO,GAAG,YAAY,CAAC;iBACvC,CAAA;aACF;SACF,CAAC,CAAC;KACJ;;gBAhBF,UAAU;;IAkBX,sBAAC;CAlBD;;;;;;;;ICqGE,2BAAY,OAAwB;QAApC,iBAEC;QAfD,cAAS,GAAG,KAAK,CAAC;QAElB,iBAAY;;;;QAAG,UAAC,CAAM;YACpB,IAAI,CAAC,KAAI,CAAC,SAAS,EAAE;gBACnB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;aACvC;SACF,EAAA;QAED,qBAAgB;;;;QAAG,UAAC,UAAe;YACjC,OAAO,EAAE,IAAI,EAAE,QAAQ,CAAC,EAAE,EAAE,UAAU,CAAC,aAAa,CAAC,GAAG,GAAG,EAAE,CAAC;SAC/D,EAAA;QAGC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,aAAa,EAAE,CAAC;KAC3C;;gBArGF,SAAS,SAAC;oBACT,QAAQ,EAAE,gBAAgB;oBAC1B,QAAQ,EAAE,+yEA4ET;oBAEH,SAAS,EAAE,CAAC,eAAe,CAAC;;iBAC3B;;;;gBApFQ,eAAe;;;2BAsFrB,KAAK;;IAmBR,wBAAC;CAtGD,IAsGC;;;IAnBC,qCAA0B;;IAE1B,uCAAuB;;IACvB,sCAAkB;;IAElB,yCAKC;;IAED,6CAEC;;;;;;;;;IC9FH;KAM+B;;gBAN9B,QAAQ,SAAC;oBACR,OAAO,EAAE,CAAC,YAAY,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,cAAc,CAAC;oBAC3E,YAAY,EAAE,CAAC,iBAAiB,CAAC;oBACjC,OAAO,EAAE,CAAC,iBAAiB,CAAC;oBAC5B,SAAS,EAAE,CAAC,eAAe,CAAC;iBAC7B;;IAC6B,qBAAC;CAN/B;;;;;;;;;;;;;;;;;;;;;;"}