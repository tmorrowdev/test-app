{"version":3,"sources":["ng://@costar/crem-lib/src/lib/data-grid/data-grid.service.ts","ng://@costar/crem-lib/src/lib/data-grid/data-grid.component.ts","ng://@costar/crem-lib/src/lib/data-grid/data-grid.module.ts"],"names":["DataGridService","prototype","getDataSource","DataSource","store","type","url","beforeSend","request","params","startDate","endDate","Injectable","DataGridComponent","service","_this","this","collapsed","contentReady","e","component","expandRow","customizeTooltip","pointsInfo","text","parseInt","originalValue","dataSource","Component","args","selector","template","providers","Input","DataGridModule","NgModule","imports","CommonModule","DxDataGridModule","DxTemplateModule","DxBulletModule","declarations","exports"],"mappings":"4hCAKA,SAAAA,KAkBA,OAfEA,EAAAC,UAAAC,cAAA,WACE,OAAO,IAAIC,EAAW,CACpBC,MAAO,CACLC,KAAM,QAENC,IAAK,iEAELC,WAAU,SAAGC,GACXA,EAAQC,OAAOC,UAAY,aAC3BF,EAAQC,OAAOE,QAAU,sCAZlCC,EAAAA,aAkBDZ,kBCmFE,SAAAa,EAAYC,GAAZ,IAAAC,EAAAC,KAbAA,KAAAC,WAAY,EAEZD,KAAAE,aAAY,SAAIC,GACTJ,EAAKE,YACRF,EAAKE,WAAY,EACjBE,EAAEC,UAAUC,UAAU,CAAC,iBAI3BL,KAAAM,iBAAgB,SAAIC,GAClB,MAAO,CAAEC,KAAMC,SAAS,GAAIF,EAAWG,eAAiB,MAIxDV,KAAKW,WAAab,EAAQZ,gBAE9B,2BAtGC0B,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,iBACVC,SAAU,wsEA8EZC,UAAW,CAAChC,wglDAnFHA,uCAsFNiC,EAAAA,SAmBHpB,sBCnGA,SAAAqB,KAM8B,2BAN7BC,EAAAA,SAAQN,KAAA,CAAC,CACRO,QAAS,CAACC,EAAAA,aAAcC,EAAAA,iBAAkBC,EAAAA,iBAAkBC,EAAAA,gBAC5DC,aAAc,CAAC5B,GACf6B,QAAS,CAAC7B,GACVmB,UAAW,CAAChC,OAEgBkC","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport 'devextreme/data/odata/store';\nimport DataSource from 'devextreme/data/data_source';\n\n@Injectable()\nexport class DataGridService {\n\n  getDataSource() {\n    return new DataSource({\n      store: {\n        type: 'odata',\n\n        url: 'https://js.devexpress.com/Demos/SalesViewer/odata/DaySaleDtoes',\n\n        beforeSend: (request: any) => {\n          request.params.startDate = '2018-05-10';\n          request.params.endDate = '2018-05-15';\n        }\n      }\n    });\n  }\n\n}\n\n","import { Component, enableProdMode, Input, ViewEncapsulation  } from '@angular/core';\n\nimport DataSource from 'devextreme/data/data_source';\n\nimport { DataGridService } from './data-grid.service';\n\n\n@Component({\n  selector: 'crem-data-grid',\n  template: `\n    <dx-data-grid\n      id=\"gridContainer\"\n      [dataSource]=\"dataSource\"\n      [remoteOperations]=\"true\"\n      [allowColumnReordering]=\"true\"\n      [rowAlternationEnabled]=\"true\"\n      [showBorders]=\"false\"\n      (onContentReady)=\"contentReady($event)\"\n    >\n      <dxo-paging [pageSize]=\"pagesize\"></dxo-paging>\n\n      <dxo-search-panel\n        [visible]=\"true\"\n        [highlightCaseSensitive]=\"true\"\n      ></dxo-search-panel>\n\n      <dxo-group-panel [visible]=\"true\"></dxo-group-panel>\n\n      <dxo-grouping [autoExpandAll]=\"false\"></dxo-grouping>\n\n      <dxi-column dataField=\"Product\" [groupIndex]=\"0\"></dxi-column>\n\n      <dxi-column\n        dataField=\"Amount\"\n        caption=\"Sale Amount\"\n        dataType=\"number\"\n        format=\"currency\"\n        alignment=\"left\"\n      ></dxi-column>\n\n      <dxi-column\n        caption=\"Discount %\"\n        dataField=\"Discount\"\n        cellTemplate=\"discountCellTemplate\"\n        dataType=\"number\"\n        format=\"percent\"\n        alignment=\"left\"\n        [allowGrouping]=\"false\"\n        cssClass=\"bullet\"\n      ></dxi-column>\n\n      <dxi-column dataField=\"SaleDate\" dataType=\"date\"></dxi-column>\n\n      <dxi-column dataField=\"Region\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Sector\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Channel\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Customer\" dataType=\"string\"></dxi-column>\n\n      <div *dxTemplate=\"let d of 'discountCellTemplate'\">\n        <div class=\"chart-cell\">\n          <dx-bullet\n            [showTarget]=\"false\"\n            [showZeroLevel]=\"true\"\n            [startScaleValue]=\"0\"\n            [endScaleValue]=\"100\"\n            [value]=\"d.value * 100\"\n          >\n            <dxo-size [width]=\"150\" [height]=\"35\"></dxo-size>\n\n            <dxo-tooltip\n              [enabled]=\"true\"\n              [paddingTopBottom]=\"2\"\n              [customizeTooltip]=\"customizeTooltip\"\n            >\n              <dxo-font [size]=\"18\"></dxo-font>\n            </dxo-tooltip>\n\n            <dxo-margin [top]=\"5\" [bottom]=\"0\" [left]=\"5\"></dxo-margin>\n          </dx-bullet>\n        </div>\n      </div>\n    </dx-data-grid>\n  `,\nstyleUrls: ['data-grid.component.scss'],\nproviders: [DataGridService]\n})\nexport class DataGridComponent {\n  @Input() pagesize: number;\n\n  dataSource: DataSource;\n  collapsed = false;\n\n  contentReady = (e: any) => {\n    if (!this.collapsed) {\n      this.collapsed = true;\n      e.component.expandRow(['EnviroCare']);\n    }\n  }\n\n  customizeTooltip = (pointsInfo: any) => {\n    return { text: parseInt('', pointsInfo.originalValue) + '%' };\n  }\n\n  constructor(service: DataGridService) {\n    this.dataSource = service.getDataSource();\n  }\n}\n\n","import { NgModule } from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\nimport { DxDataGridModule } from 'devextreme-angular/ui/data-grid';\nimport {DxBulletModule} from 'devextreme-angular/ui/bullet';\nimport { DxTemplateModule } from 'devextreme-angular/core';\nimport { DataGridComponent } from './data-grid.component';\nimport { DataGridService } from './data-grid.service';\n\n\n@NgModule({\n  imports: [CommonModule, DxDataGridModule, DxTemplateModule, DxBulletModule],\n  declarations: [DataGridComponent],\n  exports: [DataGridComponent],\n  providers: [DataGridService]\n})\nexport class DataGridModule { }\n\n"]}