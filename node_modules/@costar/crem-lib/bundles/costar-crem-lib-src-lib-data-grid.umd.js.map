{"version":3,"file":"costar-crem-lib-src-lib-data-grid.umd.js","sources":["ng://@costar/crem-lib/src/lib/data-grid/data-grid.service.ts","ng://@costar/crem-lib/src/lib/data-grid/data-grid.component.ts","ng://@costar/crem-lib/src/lib/data-grid/data-grid.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nimport 'devextreme/data/odata/store';\nimport DataSource from 'devextreme/data/data_source';\n\n@Injectable()\nexport class DataGridService {\n\n  getDataSource() {\n    return new DataSource({\n      store: {\n        type: 'odata',\n\n        url: 'https://js.devexpress.com/Demos/SalesViewer/odata/DaySaleDtoes',\n\n        beforeSend: (request: any) => {\n          request.params.startDate = '2018-05-10';\n          request.params.endDate = '2018-05-15';\n        }\n      }\n    });\n  }\n\n}\n\n","import { Component, enableProdMode, Input, ViewEncapsulation  } from '@angular/core';\n\nimport DataSource from 'devextreme/data/data_source';\n\nimport { DataGridService } from './data-grid.service';\n\n\n@Component({\n  selector: 'crem-data-grid',\n  template: `\n    <dx-data-grid\n      id=\"gridContainer\"\n      [dataSource]=\"dataSource\"\n      [remoteOperations]=\"true\"\n      [allowColumnReordering]=\"true\"\n      [rowAlternationEnabled]=\"true\"\n      [showBorders]=\"false\"\n      (onContentReady)=\"contentReady($event)\"\n    >\n      <dxo-paging [pageSize]=\"pagesize\"></dxo-paging>\n\n      <dxo-search-panel\n        [visible]=\"true\"\n        [highlightCaseSensitive]=\"true\"\n      ></dxo-search-panel>\n\n      <dxo-group-panel [visible]=\"true\"></dxo-group-panel>\n\n      <dxo-grouping [autoExpandAll]=\"false\"></dxo-grouping>\n\n      <dxi-column dataField=\"Product\" [groupIndex]=\"0\"></dxi-column>\n\n      <dxi-column\n        dataField=\"Amount\"\n        caption=\"Sale Amount\"\n        dataType=\"number\"\n        format=\"currency\"\n        alignment=\"left\"\n      ></dxi-column>\n\n      <dxi-column\n        caption=\"Discount %\"\n        dataField=\"Discount\"\n        cellTemplate=\"discountCellTemplate\"\n        dataType=\"number\"\n        format=\"percent\"\n        alignment=\"left\"\n        [allowGrouping]=\"false\"\n        cssClass=\"bullet\"\n      ></dxi-column>\n\n      <dxi-column dataField=\"SaleDate\" dataType=\"date\"></dxi-column>\n\n      <dxi-column dataField=\"Region\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Sector\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Channel\" dataType=\"string\"></dxi-column>\n\n      <dxi-column dataField=\"Customer\" dataType=\"string\"></dxi-column>\n\n      <div *dxTemplate=\"let d of 'discountCellTemplate'\">\n        <div class=\"chart-cell\">\n          <dx-bullet\n            [showTarget]=\"false\"\n            [showZeroLevel]=\"true\"\n            [startScaleValue]=\"0\"\n            [endScaleValue]=\"100\"\n            [value]=\"d.value * 100\"\n          >\n            <dxo-size [width]=\"150\" [height]=\"35\"></dxo-size>\n\n            <dxo-tooltip\n              [enabled]=\"true\"\n              [paddingTopBottom]=\"2\"\n              [customizeTooltip]=\"customizeTooltip\"\n            >\n              <dxo-font [size]=\"18\"></dxo-font>\n            </dxo-tooltip>\n\n            <dxo-margin [top]=\"5\" [bottom]=\"0\" [left]=\"5\"></dxo-margin>\n          </dx-bullet>\n        </div>\n      </div>\n    </dx-data-grid>\n  `,\nstyleUrls: ['data-grid.component.scss'],\nproviders: [DataGridService]\n})\nexport class DataGridComponent {\n  @Input() pagesize: number;\n\n  dataSource: DataSource;\n  collapsed = false;\n\n  contentReady = (e: any) => {\n    if (!this.collapsed) {\n      this.collapsed = true;\n      e.component.expandRow(['EnviroCare']);\n    }\n  }\n\n  customizeTooltip = (pointsInfo: any) => {\n    return { text: parseInt('', pointsInfo.originalValue) + '%' };\n  }\n\n  constructor(service: DataGridService) {\n    this.dataSource = service.getDataSource();\n  }\n}\n\n","import { NgModule } from '@angular/core';\n\nimport { CommonModule } from '@angular/common';\nimport { DxDataGridModule } from 'devextreme-angular/ui/data-grid';\nimport {DxBulletModule} from 'devextreme-angular/ui/bullet';\nimport { DxTemplateModule } from 'devextreme-angular/core';\nimport { DataGridComponent } from './data-grid.component';\nimport { DataGridService } from './data-grid.service';\n\n\n@NgModule({\n  imports: [CommonModule, DxDataGridModule, DxTemplateModule, DxBulletModule],\n  declarations: [DataGridComponent],\n  exports: [DataGridComponent],\n  providers: [DataGridService]\n})\nexport class DataGridModule { }\n\n"],"names":["Injectable","Component","Input","NgModule","CommonModule","DxDataGridModule","DxTemplateModule","DxBulletModule"],"mappings":";;;;;;;;;;;;;;QAKA;SAkBC;;;;QAfC,uCAAa;;;QAAb;YACE,OAAO,IAAI,UAAU,CAAC;gBACpB,KAAK,EAAE;oBACL,IAAI,EAAE,OAAO;oBAEb,GAAG,EAAE,gEAAgE;oBAErE,UAAU;;;;oBAAE,UAAC,OAAY;wBACvB,OAAO,CAAC,MAAM,CAAC,SAAS,GAAG,YAAY,CAAC;wBACxC,OAAO,CAAC,MAAM,CAAC,OAAO,GAAG,YAAY,CAAC;qBACvC,CAAA;iBACF;aACF,CAAC,CAAC;SACJ;;oBAhBFA,eAAU;;QAkBX,sBAAC;KAlBD;;;;;;;;QCqGE,2BAAY,OAAwB;YAApC,iBAEC;YAfD,cAAS,GAAG,KAAK,CAAC;YAElB,iBAAY;;;;YAAG,UAAC,CAAM;gBACpB,IAAI,CAAC,KAAI,CAAC,SAAS,EAAE;oBACnB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;iBACvC;aACF,EAAA;YAED,qBAAgB;;;;YAAG,UAAC,UAAe;gBACjC,OAAO,EAAE,IAAI,EAAE,QAAQ,CAAC,EAAE,EAAE,UAAU,CAAC,aAAa,CAAC,GAAG,GAAG,EAAE,CAAC;aAC/D,EAAA;YAGC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,aAAa,EAAE,CAAC;SAC3C;;oBArGFC,cAAS,SAAC;wBACT,QAAQ,EAAE,gBAAgB;wBAC1B,QAAQ,EAAE,+yEA4ET;wBAEH,SAAS,EAAE,CAAC,eAAe,CAAC;;qBAC3B;;;;oBApFQ,eAAe;;;+BAsFrBC,UAAK;;QAmBR,wBAAC;KAtGD,IAsGC;;;QAnBC,qCAA0B;;QAE1B,uCAAuB;;QACvB,sCAAkB;;QAElB,yCAKC;;QAED,6CAEC;;;;;;;;;QC9FH;SAM+B;;oBAN9BC,aAAQ,SAAC;wBACR,OAAO,EAAE,CAACC,mBAAY,EAAEC,yBAAgB,EAAEC,uBAAgB,EAAEC,qBAAc,CAAC;wBAC3E,YAAY,EAAE,CAAC,iBAAiB,CAAC;wBACjC,OAAO,EAAE,CAAC,iBAAiB,CAAC;wBAC5B,SAAS,EAAE,CAAC,eAAe,CAAC;qBAC7B;;QAC6B,qBAAC;KAN/B;;;;;;;;;;;;;;"}